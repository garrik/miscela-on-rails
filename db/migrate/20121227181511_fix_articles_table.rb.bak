class FixArticlesTable < ActiveRecord::Migration
  def up
    Article.update_all ["author = ?", 'unknown']
    Article.update_all ["title = ?", 'no title']
    change_table :articles do |t|
      t.boolean :draft, :default => false
      t.string :title, :null => false
      t.string :author, :null => false
    end
    Article.update_all ["draft = ?", true]
  end

  def down
    change_table :articles do |t|
      #t.boolean :draft, :default => nil
      t.string :title, :null => true
      t.string :author, :null => true
    end
  end
end
